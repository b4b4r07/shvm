#!/usr/bin/env bash

export BASHVM_HOME=${BASHVM_HOME:-$HOME/.bashvm}

die() {
  echo "$@" >&2
  exit 1
}
export -f die

version() {
  echo "bashvm version 0.0.0"
}

case "$1" in
list)
  shift
  bashvm-list "$@"
  ;;
use)
  shift
  bashvm-use "$@"
  ;;
fetch)
  shift
  bashvm-fetch "$@"
  ;;
install)
  shift
  bashvm-install "$@"
  ;;
uninstall)
  shift
  bashvm-uninstall "$@"
  ;;
help)
  shift
  bashvm-help "$@"
  ;;
--help)
  shift
  bashvm-help
  ;;
--version)
  shift
  version
  ;;
-*|--*)
  die "Unrecognized option: $1"
  ;;
*)
  die "Unrecognized command: $1"
  exit 1
  ;;
esac
