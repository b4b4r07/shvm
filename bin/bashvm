#!/usr/bin/env bash

export BASHVM_HOME=${BASHVM_HOME:-$HOME/.bashvm}

bashvm_die() {
  echo "$@" >&2
  exit 1
}
export -f bashvm_die

case "$1" in
list)
  shift
  bashvm-list "$@"
  ;;
use)
  shift
  bashvm-use "$@"
  ;;
fetch)
  shift
  bashvm-fetch "$@"
  ;;
install)
  shift
  bashvm-install "$@"
  ;;
uninstall)
  shift
  bashvm-uninstall "$@"
  ;;
help)
  shift
  bashvm-help "$@"
  ;;
--help)
  shift
  bashvm-help
  ;;
--version)
  shift
  echo "bashvm version 0.0.0"
  ;;
-*|--*)
  bashvm_die "Unrecognized option: $1"
  ;;
*)
  bashvm_die "Unrecognized command: $1"
  exit 1
  ;;
esac
